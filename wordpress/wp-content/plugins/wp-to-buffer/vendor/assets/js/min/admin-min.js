jQuery(document).ready(function(t){var e=!1,a=function(){e||t("div.wpzinc-nav-tabs-panel").each(function(){if("block"==t(this).css("display")){var a=this,s=[];t("div.status textarea",t(a)).each(function(){s.push(t(this).val())}),e=!0,t.post(wp_to_social_pro.ajax,{action:wp_to_social_pro.character_count_action,post_id:wp_to_social_pro.post_id,statuses:s,nonce:wp_to_social_pro.character_count_nonce},function(s){t("div.status textarea",t(a)).each(function(e){t("span.character-count",t(this).parent()).text(s.data.parsed_statuses[e].length)}),e=!1})}})};t(".wpzinc-nav-tabs a",t(wp_to_social_pro.character_count_metabox)).on("click",function(t){a()}),t('input[type="checkbox"]',t(wp_to_social_pro.character_count_metabox)).on("change",function(t){a()}),t("div.status textarea",t(wp_to_social_pro.character_count_metabox)).on("change",function(t){a()}),t("a.button.add-status",t(wp_to_social_pro.character_count_metabox)).on("change",function(t){a()}),t("a.clear-log").on("click",function(e){e.preventDefault();var a=t(this);void 0!==typeof t(a).data("action")&&void 0!==t(a).data("target")&&(confirm(wp_to_social_pro.clear_log_message)&&t.post(wp_to_social_pro.ajax,{action:t(a).data("action"),post:t("input[name=post_ID]").val(),nonce:wp_to_social_pro.clear_log_nonce},function(e){e.success?t("table.widefat tbody",t(t(a).data("target"))).html('<tr><td colspan="3">'+wp_to_social_pro.clear_log_completed+"</td></tr>"):alert(e.data)}))}),t("a.add-custom-tag").click(function(e){e.preventDefault();var a=t("tbody tr.hidden",t(this).closest("table"));t("tbody",t(this).closest("table")).append("<tr>"+t(a).html()+"</tr>")}),t(document).on("click","a.delete-custom-tag",function(e){e.preventDefault(),t(this).closest("tr").remove()});var s=function(){autosize.destroy(t(".autosize-js")),autosize(t(".autosize-js"))};s();var n=function(){t("select.tags").each(function(){t(this).unbind("change.wp-to-social-pro").on("change.wp-to-social-pro",function(e){var a=t(this).val(),s=t("option:selected",t(this)),n=t(this).closest("div.status"),o=t("textarea",t(n)),i=t(o).val();if(void 0!==t(s).data("question")){var c=prompt(t(s).data("question"),t(s).data("default-value"));0==c.length&&(c=t(s).data("default-value")),a=a.replace(t(s).data("replace"),c)}t(o).val(i+=" "+a).trigger("change")})})};n();var o=function(e){t("select.wpzinc-selectize",t(e)).selectize({valueField:"id",labelField:"text",searchField:"text",plugins:["drag_drop","remove_button"],delimiter:",",persist:!1,create:!1,load:function(e,a){if(!e.length||e.length<3)return a();var s=this.$input.data("action"),n=this.$input.data("taxonomy");t.ajax({url:wp_to_social_pro.ajax,data:{action:s,taxonomy:n,q:e,page:10},error:function(t,e,s){a()},success:function(t){a(t.data)}})},onChange:function(e){null!==e&&e.length?t("input.term-ids",this.$input.closest("span.terms")).val(e.join()):t("input.term-ids",this.$input.closest("span.terms")).val("")}})};t(".wpzinc-js-tabs").on("change",function(){s()}),t("body").on("click","a.button.add-status",function(e){e.preventDefault();var a=t(this),i=t(a).parent(),r=t(a).closest("div.statuses"),p=t(i).prev().clone();p.find("div.wpzinc-selectize").remove(),t(i).before('<div class="option sortable">'+t(p).html()+"</div>"),c(t(r)),t(r).sortable("refresh"),t("input,select",t(r)).conditional(),n(),s(),o(t("div.status",t(r)))}),t("div.statuses").sortable({containment:"parent",items:".sortable",stop:function(e,a){var s=t(a.item),n=t(s).closest("div.statuses");c(t(n))}});var i=function(){0!=t("select.schedule").length&&t("select.schedule").each(function(e){switch(t(this).val()){case"custom":t("span.schedule",t(this).parent()).show(),t("span.hours_mins_secs",t(this).parent()).show(),t("span.custom",t(this).parent()).show(),t("span.custom_field",t(this).parent()).hide(),t("span.the_events_calendar",t(this).parent()).hide(),t("span.specific",t(this).parent()).hide();break;case"custom_field":t("span.schedule",t(this).parent()).show(),t("span.hours_mins_secs",t(this).parent()).show(),t("span.custom",t(this).parent()).hide(),t("span.custom_field",t(this).parent()).show(),t("span.the_events_calendar",t(this).parent()).hide(),t("span.specific",t(this).parent()).hide();break;case"_EventStartDate":case"_EventEndDate":t("span.schedule",t(this).parent()).show(),t("span.hours_mins_secs",t(this).parent()).show(),t("span.custom",t(this).parent()).hide(),t("span.custom_field",t(this).parent()).hide(),t("span.the_events_calendar",t(this).parent()).show(),t("span.specific",t(this).parent()).hide();break;case"specific":t("span.schedule",t(this).parent()).show(),t("span.hours_mins_secs",t(this).parent()).hide(),t("span.custom",t(this).parent()).hide(),t("span.custom_field",t(this).parent()).hide(),t("span.the_events_calendar",t(this).parent()).hide(),t("span.specific",t(this).parent()).show();break;default:t("span.schedule",t(this).parent()).hide(),t("span.hours_mins_secs",t(this).parent()).hide(),t("span.custom",t(this).parent()).hide(),t("span.custom_field",t(this).parent()).hide(),t("span.the_events_calendar",t(this).parent()).hide(),t("span.specific",t(this).parent()).hide()}})};t("body").on("change","select.schedule",function(t){i()}),i(),t("div.statuses").bind("click.sortable mousedown.sortable",function(t){t.target.focus()}),t("div.statuses").on("click","a.delete",function(e){if(e.preventDefault(),confirm(wp_to_social_pro.delete_status_message)){var a=t(this).closest("div.option"),s=t(a).closest("div.statuses");t(s).closest("div.wpzinc-nav-tabs-panel");t(a).remove(),c(t(s))}});var c=function(e){t("div.option.sortable",t(e)).each(function(e){t("div.number a.count ",t(this)).html("#"+(e+1)),t("table td input, table td select",t(this)).each(function(a){t(this).attr("name",t(this).data("name").replace("index",e))}),0==e?t(this).addClass("first"):t(this).removeClass("first")})};t("body.wp-to-buffer-pro_page_wp-to-buffer-pro-settings").length>0&&o("#profiles-container"),t("body.wp-to-hootsuite-pro_page_wp-to-hootsuite-pro-settings").length>0&&o("#profiles-container"),t("body.wp-to-buffer-pro_page_wp-to-buffer-pro-bulk-publish").length>0&&o("#post"),t("body.wp-to-hootsuite-pro_page_wp-to-hootsuite-pro-bulk-publish").length>0&&o("#post"),t("a.button.add-table-row").on("click",function(e){e.preventDefault();var a=t(this),s=t(a).closest("table"),n=t("tbody tr:first-child",t(s));t("tbody tr:last-child",t(s)).after("<tr>"+t(n).html()+"</tr>")}),t(document).on("click","a.button.delete-table-row",function(e){e.preventDefault();t(this);var a=t(this).closest("tr");t(a).remove()}),t("body.wpzinc").on("change","input[name=toggle]",function(e){t(this).is(":checked")?t("ul.categorychecklist input[type=checkbox]").prop("checked",!0):t("ul.categorychecklist input[type=checkbox]").prop("checked",!1)})});